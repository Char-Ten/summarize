<!doctype html>
<html>

<head>
    <meta charset='utf-8' />
    <title></title>
    <link href="//at.alicdn.com/t/font_s8aywbiiubjiqkt9.css" rel="stylesheet" />
    <link href="//cdn.bootcss.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="./commo.css" rel="stylesheet">
    <link href="./index/css/index.css" rel="stylesheet">
</head>

<body>
    <div id="app">
        <header class="cell app-header">
            <div class="cell app-header__lt">
                <img class="app-logo" src="./index/images/logo1.png" />
                <h1 class="app-title">管理系统</h1>
            </div>
            <div class="app-header__rt">
                <div class="app-user">欢迎光临:<b v-text="userData.username">admin</b></div>
                <div>
                    <!-- <a class="app-user__link">
                        <i class="iconfont icon-iconfontbangzhu"></i> 使用帮助
                    </a> -->
                    <a class="app-user__link" @click="eventLogout">
                        <i class="iconfont icon-tuichu"></i> 退出
                    </a>
                </div>
            </div>
        </header>
        <div class="cell app-content">
            <aside class="app-aside">
                <header class="cell aside-header">
                    <div class="cell aside-header__item" :class="iframeIndex===0&&'aside-header__item--atv'" @click="eventAsideItemClick(0)">
                        <i class="iconfont icon-shujucaiji aside-header__item-icon"></i>
                        <div class="aside-header__item-txt">数据采集</div>
                    </div>
                    <div class="cell aside-header__item" :class="iframeIndex===1&&'aside-header__item--atv'" @click="eventAsideItemClick(1)">
                        <i class="iconfont icon-shujuguanli aside-header__item-icon"></i>
                        <div class="aside-header__item-txt">数据管理</div>
                    </div>
                    <div class="cell aside-header__item" :class="iframeIndex===2&&'aside-header__item--atv'" @click="eventAsideItemClick(2)">
                        <i class="iconfont icon-peizhi aside-header__item-icon"></i>
                        <div class="aside-header__item-txt">仪器配置</div>
                    </div>
                    <div class="cell aside-header__item" :class="iframeIndex===3&&'aside-header__item--atv'" @click="eventAsideItemClick(3)">
                        <i class="iconfont icon-unie600 aside-header__item-icon"></i>
                        <div class="aside-header__item-txt">系统设置</div>
                    </div>
                    <div class="cell aside-header__item" :class="iframeIndex===4&&'aside-header__item--atv'" v-if="isManager" @click="eventAsideItemClick(4)">
                        <i class="iconfont icon-houtaiguanli aside-header__item-icon"></i>
                        <div class="aside-header__item-txt">后台管理</div>
                    </div>
                </header>
            </aside>
            <div class="app-main">
                <iframe :src="iframeSrcList[0]" v-show="0===iframeIndex"></iframe>
                <iframe :src="iframeSrcList[1]" v-show="1===iframeIndex"></iframe>
                <iframe :src="iframeSrcList[2]" v-show="2===iframeIndex"></iframe>
                <iframe :src="iframeSrcList[3]" v-show="3===iframeIndex"></iframe>
                <iframe :src="iframeSrcList[4]" v-show="4===iframeIndex"></iframe>
            </div>
        </div>
        <footer></footer>
    </div>
    <div class="preload" id="preload">
        <div class="preload-dialog">
            <div class="preload-amnt__box">
                <div class="preload-amnt__water"></div>
            </div>
            <p id="preloadTxt" class="preload-amnt__word">连接服务器中...</p>
        </div>
    </div>
    <script>
        var preload = document.getElementById('preload');
        var preloadTxt = document.getElementById('preloadTxt');
        window.addEventListener('load', function() {
            preloadTxt.innerText = "加载完成";
            preload.childNodes[1].className += ' end-preload-dialog'
            preload.className += ' end-preload';
        });
        preload.addEventListener('transitionend', function() {
            preload.parentNode.removeChild(preload)
        });
    </script>
    <script src="//cdn.bootcss.com/axios/0.16.2/axios.min.js"></script>
    <script src="//cdn.bootcss.com/vue/2.3.4/vue.min.js"></script>
    <script src='./index/js/index.js'></script>
</body>

</html>